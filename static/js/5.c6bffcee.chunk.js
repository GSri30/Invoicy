(this.webpackJsonpinvoicy=this.webpackJsonpinvoicy||[]).push([[5],{1030:function(e,t){},1245:function(e,t,a){},567:function(e,t,a){"use strict";a.r(t);var n=a(18),l=a(74),c=a.n(l),o=a(87),r=a(2),d=a(310),s=a(0),i=a.n(s),m={desc:"",qty:"1",price:"0.00"},p={clientId:"1",companyId:"1",companyName:"",companyAddr:"",email:"",clientName:"",clientAddr:"",clientEmail:"",invoiceId:"1",invoiceDate:"Jan 15, 2022",dueDate:"Feb 24, 2022",productLines:[{desc:"Item 1",qty:"2",price:"10.00"}],advancePercent:"50",note:"It was great doing business with you.",totalAmount:"18.00",dueAmount:"18.00",discount:"20",tax:"10",method:"ETH",network:"Ethereum",workCompleted:"false",isSettled:"false",uploadDocURI:"www.google.com"},u=a(82),f={dark:{color:"#222"},white:{color:"#fff"},"bg-dark":{backgroundColor:"#666"},"bg-gray":{backgroundColor:"#e3e3e3"},flex:{display:"flex",flexDirection:"row",flexWrap:"nowrap"},"w-auto":{flex:1,paddingRight:"8px"},"ml-30":{flex:1},"w-100":{width:"100%"},"w-50":{width:"50%"},"w-55":{width:"55%"},"w-45":{width:"45%"},"w-60":{width:"60%"},"w-40":{width:"40%"},"w-48":{width:"48%"},"w-17":{width:"17%"},"w-18":{width:"18%"},row:{borderBottom:"1px solid ".concat("#e3e3e3")},"mt-40":{marginTop:"40px"},"mt-30":{marginTop:"30px"},"mt-20":{marginTop:"20px"},"mt-10":{marginTop:"10px"},"mb-5":{marginBottom:"5px"},"p-4-8":{padding:"4px 8px"},"p-5":{padding:"5px"},"pb-10":{paddingBottom:"10px"},right:{textAlign:"right"},bold:{fontWeight:"bold"},"fs-20":{fontSize:"20px"},"fs-45":{fontSize:"45px"},page:{fontFamily:"Nunito",fontSize:"13px",color:"#555",padding:"40px 35px"},span:{padding:"4px 12px 4px 0"},logo:{display:"block"}},E=function(e){var t={};return e.replace(/\s+/g," ").split(" ").forEach((function(e){void 0!==typeof f[e]&&Object.assign(t,f[e])})),t},v=function(e){var t=e.className,a=e.placeholder,n=e.value,l=e.onChange,c=e.pdfMode;return i.a.createElement(i.a.Fragment,null,c?i.a.createElement(u.Text,{style:E("span "+(t||""))},n):i.a.createElement("input",{type:"text",className:"input "+(t||""),placeholder:a||"",value:n||"",onChange:l?function(e){return l(e.target.value)}:void 0}))},x=function(e){var t=e.className,a=e.options,n=e.placeholder,l=e.value,c=e.onChange,o=e.pdfMode,r=Object(s.useState)(!1),m=Object(d.a)(r,2),p=m[0],f=m[1];return i.a.createElement(i.a.Fragment,null,o?i.a.createElement(u.Text,{style:E("span "+(t||""))},l):i.a.createElement(i.a.Fragment,null,p?i.a.createElement("select",{className:"select "+(t||""),value:l,onChange:c?function(e){return c(e.target.value)}:void 0,onBlur:function(){return f(!1)},autoFocus:!0},null===a||void 0===a?void 0:a.map((function(e){return i.a.createElement("option",{key:e.text,value:e.value},e.text)}))):i.a.createElement("input",{readOnly:!0,type:"text",className:"input "+(t||""),value:l||"",placeholder:n||"",onFocus:function(){return f(!0)}})))},b=a(1250),h=function(e){var t=e.className,a=e.placeholder,n=e.value,l=e.onChange,c=e.pdfMode,o=e.rows;return i.a.createElement(i.a.Fragment,null,c?i.a.createElement(u.Text,{style:E("span "+(t||""))},n):i.a.createElement(b.a,{minRows:o||1,className:"input "+(t||""),placeholder:a||"",value:n||"",onChange:l?function(e){return l(e.target.value)}:void 0}))},g=a(1203),w=a.n(g),M=(a(1202),function(e){var t=e.className,a=e.value,n=e.selected,l=e.onChange,c=e.pdfMode;return i.a.createElement(i.a.Fragment,null,c?i.a.createElement(u.Text,{style:E("span "+(t||""))},a):i.a.createElement(w.a,{className:"input "+(t||""),selected:n,onChange:l?function(e){return l(e)}:function(e){return null},dateFormat:"MMM dd, yyyy"}))}),N=[{value:"Ethereum",text:"Ethereum"},{value:"Polygon",text:"Polygon"}],y=[{value:"ETH",text:"ETH"},{value:"MATIC",text:"MATIC"}],O=function(e){var t=e.pdfMode,a=e.children;return i.a.createElement(i.a.Fragment,null,t?i.a.createElement(u.Document,null,a):i.a.createElement(i.a.Fragment,null,a))},j=function(e){var t=e.className,a=e.pdfMode,n=e.children;return i.a.createElement(i.a.Fragment,null,a?i.a.createElement(u.Page,{size:"A4",style:E("page "+(t||""))},n):i.a.createElement("div",{className:"page "+(t||"")},n))},T=function(e){var t=e.className,a=e.pdfMode,n=e.children;return i.a.createElement(i.a.Fragment,null,a?i.a.createElement(u.View,{style:E("view "+(t||""))},n):i.a.createElement("div",{className:"view "+(t||"")},n))},k=function(e){var t=e.className,a=e.pdfMode,n=e.children;return i.a.createElement(i.a.Fragment,null,a?i.a.createElement(u.Text,{style:E("span "+(t||""))},n):i.a.createElement("span",{className:"span "+(t||"")},n))},S=function(e){var t=e.data,a=Object(s.useState)(!1),n=Object(d.a)(a,2),l=n[0],c=n[1];return Object(s.useEffect)((function(){c(!1);var e=setTimeout((function(){c(!0)}),500);return function(){return clearTimeout(e)}}),[t]),i.a.createElement("div",{className:"download-pdf "+(l?"":"loading"),title:"Save PDF"},l&&i.a.createElement(u.PDFDownloadLink,{document:i.a.createElement(C,{pdfMode:!0,data:t}),fileName:"INV_0".concat(t.invoiceId?t.invoiceId.toLowerCase():"invoice",".pdf"),"aria-label":"Save PDF"}))},F=a(570),A=a(86);a(1245);u.Font.register({family:"Nunito",fonts:[{src:"https://fonts.gstatic.com/s/nunito/v12/XRXV3I6Li01BKofINeaE.ttf"},{src:"https://fonts.gstatic.com/s/nunito/v12/XRXW3I6Li01BKofA6sKUYevN.ttf",fontWeight:600}]});var C=t.default=function(e){var t=e.data,a=e.pdfMode,l=Object(s.useState)(t?Object(r.a)({},t):Object(r.a)({},p)),f=Object(d.a)(l,2),E=f[0],b=f[1],g=Object(s.useState)(),w=Object(d.a)(g,2),C=w[0],D=w[1],I=Object(s.useState)(),z=Object(d.a)(I,2),W=z[0],L=z[1],P=Object(s.useState)(),R=Object(d.a)(P,2),H=R[0],B=R[1],q=Object(s.useState)(),U=Object(d.a)(q,2),V=U[0],X=U[1],J=""!==E.invoiceDate?new Date(E.invoiceDate):new Date,K=""!==E.dueDate?new Date(E.dueDate):new Date(J.valueOf());""===E.dueDate&&K.setDate(K.getDate()+30);var Y=[],_=function(){var e=Object(o.a)(c.a.mark((function e(){var t,a,n,l,o,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.e)();case 2:return t=e.sent,e.next=5,Object(A.k)();case 5:return a=e.sent,e.next=8,Object(A.j)(a);case 8:return n=e.sent,e.next=11,Object(A.m)();case 11:return l=e.sent,console.log(t),t.forEach((function(e){Y.push({value:e[1],text:e[1],id:e[0]})})),(o=Object(r.a)({},E)).companyName=n.name,o.email=n.email,o.companyId=a,e.prev=18,o.clientAddr=Y[0].value,o.clientId=Y[0].id,e.next=23,Object(A.h)(a,o.clientId);case 23:d=e.sent,o.clientName=d.name,o.clientEmail=d.email,e.next=33;break;case 28:e.prev=28,e.t0=e.catch(18),console.log(e.t0),o.clientAddr=l,o.clientId="0";case 33:o.companyAddr=l,console.log(o),X(Y),b(o);case 37:case"end":return e.stop()}}),e,null,[[18,28]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(o.a)(c.a.mark((function e(t,a){var n,l,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("productLines"===t){e.next=15;break}if(n=Object(r.a)({},E),"string"!==typeof a){e.next=14;break}if("clientAddr"!==t){e.next=13;break}return n[t]=a,e.next=7,Object(A.k)(a);case 7:return l=e.sent,e.next=10,Object(A.j)(l);case 10:o=e.sent,n.clientName=o.name,n.clientEmail=o.email;case 13:"totalAmount"===t?(n[t]=a,n.dueAmount=a):n[t]=a;case 14:b(n);case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),G=function(e,t,a){var n=E.productLines.map((function(n,l){if(l===e){var c=Object(r.a)({},n);if("desc"===t)c[t]=a;else if("."===a[a.length-1]||"0"===a[a.length-1]&&a.includes("."))c[t]=a;else{var o=parseFloat(a);c[t]=(o||0).toString()}return c}return Object(r.a)({},n)}));b(Object(r.a)(Object(r.a)({},E),{},{productLines:n}))};Object(s.useEffect)((function(){_()}),[]),Object(s.useEffect)((function(){var e=0;E.productLines.forEach((function(t){var a=parseFloat(t.qty),n=parseFloat(t.price);e+=a&&n?a*n:0})),D(e)}),[E.productLines]),Object(s.useEffect)((function(){var e=parseFloat(E.tax),t=C?C*(e||0)/100:0,a=parseFloat(E.discount)?parseFloat(E.discount):0,n=C?C*a/100:0,l=C?C+t-n:0;L(t),B(n),Q("totalAmount",l.toString())}),[C,E.tax,E.discount]);var Z=function(){var e=Object(o.a)(c.a.mark((function e(){var t,a,n,l,o,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(r.a)({},E),a=[],t.productLines.forEach((function(e){var n=Object(r.a)({},e);n.price=A.s.utils.toWei(e.price),n.discount=t.discount,n.tax=t.tax,a.push(Object.values(n))})),n={method:t.method,network:t.network,totalAmount:A.s.utils.toWei(t.totalAmount),dueAmount:A.s.utils.toWei(t.dueAmount),advancePercent:t.advancePercent},l=Object.values(n),o={companyId:t.companyId,clientId:t.clientId,items:a,payment:l,workCompleted:!1,invoiceDate:t.invoiceDate,dueDate:t.dueDate,uploadDocURI:t.uploadDocURI,note:t.note},d=Object.values(o),e.next=9,Object(A.c)(d);case 9:e.sent,window.alert("Invoice Created"),window.location.href="/dashboard";case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(O,{pdfMode:a},i.a.createElement(j,{className:"invoice-wrapper",pdfMode:a},!a&&i.a.createElement(S,{data:E}),i.a.createElement(T,{className:"flex",pdfMode:a},i.a.createElement(T,{className:"w-50",pdfMode:a},i.a.createElement(v,{className:"fs-20 bold",placeholder:"Your Company",value:E.companyName,pdfMode:a}),a?i.a.createElement(u.Text,{style:{fontSize:"10px"}},E.companyAddr):i.a.createElement("input",{type:"text",className:"input",value:E.companyAddr,readOnly:!0,style:{textOverflow:"ellipsis",width:"110%"}}),i.a.createElement(v,{placeholder:"Email Address",value:E.email,pdfMode:a})),i.a.createElement(T,{className:"w-50",pdfMode:a},i.a.createElement(v,{className:"fs-45 right bold",placeholder:"Invoice",value:"INVOICE",pdfMode:a}))),i.a.createElement(T,{className:"flex mt-40",pdfMode:a},i.a.createElement(T,{className:"w-55",pdfMode:a},i.a.createElement(u.Text,{style:{fontSize:"16px",fontWeight:"bold"}},"Bill To:"),i.a.createElement(v,{placeholder:"Your Client's Name",value:E.clientName,pdfMode:a}),a?i.a.createElement(u.Text,{style:{fontSize:"10px"}},E.clientAddr):i.a.createElement(x,{options:V,value:E.clientAddr,onChange:function(e){return Q("clientAddr",e)},pdfMode:a}),i.a.createElement(v,{placeholder:"Email Address",value:E.clientEmail,pdfMode:a}),a?i.a.createElement(u.Text,{style:{fontSize:"14px"}},E.network):i.a.createElement(x,{options:N,value:E.network,onChange:function(e){return Q("network",e)},pdfMode:a}),a?i.a.createElement(u.Text,{style:{fontSize:"14px"}},E.method):i.a.createElement(x,{options:y,value:E.method,onChange:function(e){return Q("method",e)},pdfMode:a})),i.a.createElement(T,{className:"w-45",pdfMode:a},i.a.createElement(T,{className:"flex mb-1",pdfMode:a},i.a.createElement(T,{className:"w-40",pdfMode:a},i.a.createElement(u.Text,{style:{fontSize:"14px",fontWeight:"bold"}},"Invoice#")),i.a.createElement(T,{className:"w-60",pdfMode:a},i.a.createElement(v,{placeholder:"01",value:E.invoiceId,onChange:function(e){return Q("invoiceId",e)},pdfMode:a}))),i.a.createElement(T,{className:"flex mb-1",pdfMode:a},i.a.createElement(T,{className:"w-40",pdfMode:a},i.a.createElement(u.Text,{style:{fontSize:"14px",fontWeight:"bold"}},"Invoice Date")),i.a.createElement(T,{className:"w-60",pdfMode:a},i.a.createElement(M,{value:Object(F.default)(J,"MMM dd, yyyy"),selected:J,onChange:function(e){return Q("invoiceDate",e&&!Array.isArray(e)?Object(F.default)(e,"MMM dd, yyyy"):"")},pdfMode:a}))),i.a.createElement(T,{className:"flex mb-1",pdfMode:a},i.a.createElement(T,{className:"w-40",pdfMode:a},i.a.createElement(u.Text,{style:{fontSize:"14px",fontWeight:"bold"}},"Due Date")),i.a.createElement(T,{className:"w-60",pdfMode:a},i.a.createElement(M,{value:Object(F.default)(K,"MMM dd, yyyy"),selected:K,onChange:function(e){return Q("dueDate",e&&!Array.isArray(e)?Object(F.default)(e,"MMM dd, yyyy"):"")},pdfMode:a}))),i.a.createElement(T,{className:"flex mb-1",pdfMode:a},i.a.createElement(T,{className:"w-40",pdfMode:a},i.a.createElement(u.Text,{style:{fontSize:"14px",fontWeight:"bold"}},"Advance Payment")),i.a.createElement(T,{className:"w-17",pdfMode:a},i.a.createElement(v,{value:E.advancePercent+"%",onChange:function(e){return Q("advancePercent",e.slice(0,-1))},pdfMode:a})),i.a.createElement(T,{className:"w-60",pdfMode:a},i.a.createElement(k,{className:"dark w-auto",pdfMode:a},"ETH "+("undefined"!==typeof C&&"undefined"!==typeof W?parseFloat(E.totalAmount)*(parseFloat(E.advancePercent)/100):0).toFixed(2)))))),i.a.createElement(T,{className:"mt-30 bg-dark flex",pdfMode:a},i.a.createElement(T,{className:"w-48 p-4-8",pdfMode:a},i.a.createElement(v,{className:"white bold",value:"Item Description",pdfMode:a})),i.a.createElement(T,{className:"w-17 p-4-8",pdfMode:a},i.a.createElement(v,{className:"white bold right",value:"Qty",pdfMode:a})),i.a.createElement(T,{className:"w-17 p-4-8",pdfMode:a},i.a.createElement(v,{className:"white bold right",value:"Rate",pdfMode:a})),i.a.createElement(T,{className:"w-18 p-4-8",pdfMode:a},i.a.createElement(v,{className:"white bold right",value:"Amount",pdfMode:a}))),E.productLines.map((function(e,t){return a&&""===e.desc?i.a.createElement(k,{key:t}):i.a.createElement(T,{key:t,className:"row flex ml-0 mr-0",pdfMode:a},i.a.createElement(T,{className:"w-48 p-4-8 pb-10",pdfMode:a},i.a.createElement(h,{className:"dark",rows:2,placeholder:"Enter item name/description",value:e.desc,onChange:function(e){return G(t,"desc",e)},pdfMode:a})),i.a.createElement(T,{className:"w-17 p-4-8 pb-10",pdfMode:a},i.a.createElement(v,{className:"dark right",value:e.qty,onChange:function(e){return G(t,"qty",e)},pdfMode:a})),i.a.createElement(T,{className:"w-17 p-4-8 pb-10",pdfMode:a},i.a.createElement(v,{className:"dark right",value:e.price,onChange:function(e){return G(t,"price",e)},pdfMode:a})),i.a.createElement(T,{className:"w-18 p-4-8 pb-10",pdfMode:a},i.a.createElement(k,{className:"dark right",pdfMode:a},function(e,t){var a=parseFloat(e),n=parseFloat(t);return(a&&n?a*n:0).toFixed(2)}(e.qty,e.price))),!a&&i.a.createElement("button",{className:"link row__remove","aria-label":"Remove Row",title:"Remove Row",onClick:function(){return function(e){var t=E.productLines.filter((function(t,a){return a!==e}));b(Object(r.a)(Object(r.a)({},E),{},{productLines:t}))}(t)}},i.a.createElement("span",{className:"icon icon-remove bg-red"})))})),i.a.createElement(T,{className:"flex",pdfMode:a},i.a.createElement(T,{className:"w-50 mt-10",pdfMode:a},!a&&i.a.createElement("button",{className:"link",onClick:function(){var e=[].concat(Object(n.a)(E.productLines),[Object(r.a)({},m)]);b(Object(r.a)(Object(r.a)({},E),{},{productLines:e}))}},i.a.createElement("span",{className:"icon icon-add bg-green mr-10"}),"Add Line Item")),i.a.createElement(T,{className:"w-50 mt-20",pdfMode:a},i.a.createElement(T,{className:"flex",pdfMode:a},i.a.createElement(T,{className:"w-50 p-1 ",pdfMode:a},a?i.a.createElement(u.Text,{style:{fontSize:"12px",fontWeight:"bold"}},"Sub Total"):i.a.createElement(u.Text,{style:{fontSize:"14px",fontWeight:"bold"}},"Sub Total")),i.a.createElement(T,{className:"w-50 p-1",pdfMode:a},i.a.createElement(k,{className:"right bold dark",pdfMode:a},"ETH "+(null===C||void 0===C?void 0:C.toFixed(2))))),i.a.createElement(T,{className:"flex",pdfMode:a},i.a.createElement(T,{className:"w-50 p-1",pdfMode:a},a?i.a.createElement(u.Text,{style:{fontSize:"12px",fontWeight:"bold"}},"Sale Tax"):i.a.createElement(u.Text,{style:{fontSize:"14px",fontWeight:"bold"}},"Sale Tax")),i.a.createElement(T,{className:"w-25 p-1",pdfMode:a},i.a.createElement(v,{value:E.tax+"%",onChange:function(e){return Q("tax",e.slice(0,-1))},pdfMode:a})),i.a.createElement(T,{className:"w-50 p-1",pdfMode:a},i.a.createElement(k,{className:"right bold dark",pdfMode:a},"ETH "+(null===W||void 0===W?void 0:W.toFixed(2))))),i.a.createElement(T,{className:"flex",pdfMode:a},i.a.createElement(T,{className:"w-50 p-1",pdfMode:a},a?i.a.createElement(u.Text,{style:{fontSize:"12px",fontWeight:"bold"}},"Discount"):i.a.createElement(u.Text,{style:{fontSize:"14px",fontWeight:"bold"}},"Discount")),i.a.createElement(T,{className:"w-25 p-1",pdfMode:a},i.a.createElement(v,{value:E.discount+"%",onChange:function(e){return Q("discount",e.slice(0,-1))},pdfMode:a})),i.a.createElement(T,{className:"w-50 p-1",pdfMode:a},i.a.createElement(k,{className:"right bold dark",pdfMode:a},"ETH "+(null===H||void 0===H?void 0:H.toFixed(2))))),i.a.createElement(T,{className:"flex bg-gray",pdfMode:a},i.a.createElement(T,{className:"w-50 p-1",pdfMode:a},a?i.a.createElement(u.Text,{style:{fontSize:"12px",fontWeight:"bold"}},"Total"):i.a.createElement(u.Text,{style:{fontSize:"14px",fontWeight:"bold"}},"Total")),i.a.createElement(T,{className:"w-50 p-1",pdfMode:a},i.a.createElement(k,{className:"right bold dark",pdfMode:a},"ETH "+("undefined"!==typeof C&&"undefined"!==typeof W&&"undefined"!==typeof H?C+W-H:0).toFixed(2)))),a&&i.a.createElement(T,{className:"flex bg-gray",pdfMode:a},i.a.createElement(T,{className:"w-50 p-1",pdfMode:a},a?i.a.createElement(u.Text,{style:{fontSize:"12px",fontWeight:"bold"}},"Total Due"):i.a.createElement(u.Text,{style:{fontSize:"14px",fontWeight:"bold"}},"Total Due")),i.a.createElement(T,{className:"w-50 p-1",pdfMode:a},i.a.createElement(k,{className:"right bold dark",pdfMode:a},"ETH "+parseFloat(E.dueAmount).toFixed(2)))))),i.a.createElement(T,{className:"mt-20",pdfMode:a},i.a.createElement(v,{className:"bold w-100",value:"Notes",pdfMode:a}),i.a.createElement(h,{className:"w-100",rows:2,value:E.note,onChange:function(e){return Q("note",e)},pdfMode:a})),i.a.createElement(T,{className:"mt-20",pdfMode:a},i.a.createElement(v,{className:"bold w-100",value:"Terms & Conditions",pdfMode:a}),i.a.createElement(h,{className:"w-100",rows:2,value:"Please make the payment by the due date.",pdfMode:a})),!a&&i.a.createElement("button",{className:"btn btn-primary",onClick:function(e){Z()}},"Send")))}},910:function(e,t){},911:function(e,t){}}]);
//# sourceMappingURL=5.c6bffcee.chunk.js.map