(this.webpackJsonpinvoicy=this.webpackJsonpinvoicy||[]).push([[11],{164:function(e,a,t){"use strict";var r=t(4),l=t(0),s=t.n(l),c=t(57),n=t.n(c);a.a=function(e){return s.a.forwardRef((function(a,t){return s.a.createElement("div",Object(r.a)({},a,{ref:t,className:n()(a.className,e)}))}))}},165:function(e,a,t){"use strict";var r=t(4),l=t(7),s=t(57),c=t.n(s),n=t(0),m=t.n(n),i=t(59),o=["bsPrefix","className","variant","as"],d=m.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.className,n=e.variant,d=e.as,u=void 0===d?"img":d,E=Object(l.a)(e,o),p=Object(i.b)(t,"card-img");return m.a.createElement(u,Object(r.a)({ref:a,className:c()(n?p+"-"+n:p,s)},E))}));d.displayName="CardImg",d.defaultProps={variant:null},a.a=d},201:function(e,a,t){"use strict";var r=t(0),l=t.n(r).a.createContext(null);l.displayName="CardContext",a.a=l},202:function(e,a,t){"use strict";var r=t(4),l=t(7),s=t(57),c=t.n(s),n=t(0),m=t.n(n),i=t(59),o=["bsPrefix","className","as"],d=["xl","lg","md","sm","xs"],u=m.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.className,n=e.as,u=void 0===n?"div":n,E=Object(l.a)(e,o),p=Object(i.b)(t,"col"),v=[],f=[];return d.forEach((function(e){var a,t,r,l=E[e];if(delete E[e],"object"===typeof l&&null!=l){var s=l.span;a=void 0===s||s,t=l.offset,r=l.order}else a=l;var c="xs"!==e?"-"+e:"";a&&v.push(!0===a?""+p+c:""+p+c+"-"+a),null!=r&&f.push("order"+c+"-"+r),null!=t&&f.push("offset"+c+"-"+t)})),v.length||v.push(p),m.a.createElement(u,Object(r.a)({},E,{ref:a,className:c.a.apply(void 0,[s].concat(v,f))}))}));u.displayName="Col",a.a=u},262:function(e,a,t){"use strict";var r=t(4),l=t(7),s=t(57),c=t.n(s),n=t(0),m=t.n(n),i=t(59),o=t(71),d=t(164),u=t(201),E=t(165),p=["bsPrefix","className","bg","text","border","body","children","as"],v=Object(d.a)("h5"),f=Object(d.a)("h6"),h=Object(o.a)("card-body"),N=Object(o.a)("card-title",{Component:v}),b=Object(o.a)("card-subtitle",{Component:f}),g=Object(o.a)("card-link",{Component:"a"}),x=Object(o.a)("card-text",{Component:"p"}),y=Object(o.a)("card-header"),w=Object(o.a)("card-footer"),j=Object(o.a)("card-img-overlay"),O=m.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.className,o=e.bg,d=e.text,E=e.border,v=e.body,f=e.children,N=e.as,b=void 0===N?"div":N,g=Object(l.a)(e,p),x=Object(i.b)(t,"card"),y=Object(n.useMemo)((function(){return{cardHeaderBsPrefix:x+"-header"}}),[x]);return m.a.createElement(u.a.Provider,{value:y},m.a.createElement(b,Object(r.a)({ref:a},g,{className:c()(s,x,o&&"bg-"+o,d&&"text-"+d,E&&"border-"+E)}),v?m.a.createElement(h,null,f):f))}));O.displayName="Card",O.defaultProps={body:!1},O.Img=E.a,O.Title=N,O.Subtitle=b,O.Body=h,O.Link=g,O.Text=x,O.Header=y,O.Footer=w,O.ImgOverlay=j,a.a=O},268:function(e,a,t){"use strict";var r=t(4),l=t(7),s=t(57),c=t.n(s),n=t(0),m=t.n(n),i=t(59),o=["bsPrefix","className","noGutters","as"],d=["xl","lg","md","sm","xs"],u=m.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.className,n=e.noGutters,u=e.as,E=void 0===u?"div":u,p=Object(l.a)(e,o),v=Object(i.b)(t,"row"),f=v+"-cols",h=[];return d.forEach((function(e){var a,t=p[e];delete p[e];var r="xs"!==e?"-"+e:"";null!=(a=null!=t&&"object"===typeof t?t.cols:t)&&h.push(""+f+r+"-"+a)})),m.a.createElement(E,Object(r.a)({ref:a},p,{className:c.a.apply(void 0,[s,v,n&&"no-gutters"].concat(h))}))}));u.displayName="Row",u.defaultProps={noGutters:!1},a.a=u},269:function(e,a,t){"use strict";var r=t(4),l=t(7),s=t(57),c=t.n(s),n=t(0),m=t.n(n),i=t(59),o=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],d=m.a.forwardRef((function(e,a){var t=e.bsPrefix,s=e.className,n=e.striped,d=e.bordered,u=e.borderless,E=e.hover,p=e.size,v=e.variant,f=e.responsive,h=Object(l.a)(e,o),N=Object(i.b)(t,"table"),b=c()(s,N,v&&N+"-"+v,p&&N+"-"+p,n&&N+"-striped",d&&N+"-bordered",u&&N+"-borderless",E&&N+"-hover"),g=m.a.createElement("table",Object(r.a)({},h,{className:b,ref:a}));if(f){var x=N+"-responsive";return"string"===typeof f&&(x=x+"-"+f),m.a.createElement("div",{className:x},g)}return g}));a.a=d},885:function(e,a,t){"use strict";t.r(a);var r=t(18),l=t(74),s=t.n(l),c=t(87),n=t(9),m=t(10),i=t(12),o=t(11),d=t(0),u=t.n(d),E=t(268),p=t(202),v=t(262),f=t(269),h=t(22),N=t(162),b=t.n(N),g=t(86),x=function(e){Object(i.a)(t,e);var a=Object(o.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={wallet:"",companyId:0,invoices:[]},r.fetchAccount(),r}return Object(m.a)(t,[{key:"fetchAccount",value:function(){var e=Object(c.a)(s.a.mark((function e(){var a,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.n)();case 2:return e.next=4,Object(g.m)();case 4:return a=e.sent,this.setState({wallet:a}),e.next=8,Object(g.k)();case 8:(t=e.sent)>0?this.setState({companyId:t}):this.props.history.push("/");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBills",value:function(){var e=Object(c.a)(s.a.mark((function e(){var a=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAccount();case 2:return e.prev=2,e.next=5,Object(g.d)(this.state.companyId);case 5:e.sent.forEach(function(){var e=Object(c.a)(s.a.mark((function e(t){var l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.l)(t);case 2:l=e.sent,c={id:t,data:l},a.setState({invoices:[].concat(Object(r.a)(a.state.invoices),[c])});case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getBills()}},{key:"payInvoice",value:function(){var e=Object(c.a)(s.a.mark((function e(a){var t,r,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.id,r=parseInt(a.data.payment.advancePercent),l=a.data.workCompleted,c=0===r||100===r||l?a.data.payment.dueAmount:a.data.payment.dueAmount*(r/100),e.next=6,Object(g.o)(t,c);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},{key:"viewDetails",value:function(e){this.props.history.push({pathname:"/view-invoice/",state:{invoice:e}})}},{key:"render",value:function(){var e=this,a=this.state.invoices,t=[],r=[],l=0,s=0;a.forEach((function(a){a.data.isSettled?(t.push(u.a.createElement("tr",{className:"unread",key:a.id},u.a.createElement("td",null,u.a.createElement("img",{className:"rounded-circle",style:{width:"40px"},src:b.a,alt:"activity-user"})),u.a.createElement("td",null,u.a.createElement("h6",{className:"mb-1"},a.data.company.name),u.a.createElement("p",{className:"m-0"},a.data.company.email)),u.a.createElement("td",null,u.a.createElement("h6",{className:"text-muted"},u.a.createElement("i",{className:"fa fa-circle text-c-green f-10 m-r-15"}),a.data.invoiceDate)),u.a.createElement("td",null,u.a.createElement("h6",{className:"text-muted"},u.a.createElement("i",{className:"fa fa-circle text-c-red f-10 m-r-15"}),a.data.dueDate)),u.a.createElement("td",null,u.a.createElement("h6",{className:"text-muted"},g.s.utils.fromWei(a.data.payment.totalAmount)," ETH")),u.a.createElement("td",null,u.a.createElement("h6",{className:"text-muted"},"Work Status: \xa0",a.data.workCompleted&&u.a.createElement("span",{className:"text-success"},"Completed"),!a.data.workCompleted&&u.a.createElement("span",{className:"text-danger"},"Not Completed"))),u.a.createElement("td",null,u.a.createElement("button",{style:{border:0},onClick:function(){return e.viewDetails(a)},className:"label theme-bg text-white f-12"},"View Details")))),l+=parseFloat(g.s.utils.fromWei(a.data.payment.totalAmount))):(r.push(u.a.createElement("tr",{className:"unread",key:a.id},u.a.createElement("td",null,u.a.createElement("img",{className:"rounded-circle",style:{width:"40px"},src:b.a,alt:"activity-user"})),u.a.createElement("td",null,u.a.createElement("h6",{className:"mb-1"},a.data.company.name),u.a.createElement("p",{className:"m-0"},a.data.company.email)),u.a.createElement("td",null,u.a.createElement("h6",{className:"text-muted"},u.a.createElement("i",{className:"fa fa-circle text-c-green f-10 m-r-15"}),a.data.invoiceDate)),u.a.createElement("td",null,u.a.createElement("h6",{className:"text-muted"},u.a.createElement("i",{className:"fa fa-circle text-c-red f-10 m-r-15"}),a.data.dueDate)),u.a.createElement("td",null,u.a.createElement("h6",{className:"text-muted"},g.s.utils.fromWei(a.data.payment.dueAmount)," ETH due")),u.a.createElement("td",null,u.a.createElement("h6",{className:"text-muted"},"Work Status: \xa0",a.data.workCompleted&&u.a.createElement("span",{className:"text-success"},"Completed"),!a.data.workCompleted&&u.a.createElement("span",{className:"text-danger"},"Not Completed"))),u.a.createElement("td",null,u.a.createElement("button",{style:{border:0},onClick:function(){return e.viewDetails(a)},className:"label theme-bg text-white f-12"},"View Details"),u.a.createElement("button",{style:{border:0},onClick:function(){return e.payInvoice(a)},className:"label theme-bg text-white f-12"},"Pay")))),s+=parseFloat(g.s.utils.fromWei(a.data.payment.dueAmount)))}));var c=(t.length/(t.length+r.length)*100).toString(),n=(r.length/(t.length+r.length)*100).toString(),m=(l/(l+s)*100).toString();return u.a.createElement(h.a,null,u.a.createElement(E.a,null,u.a.createElement(p.a,{md:6,xl:4},u.a.createElement(v.a,null,u.a.createElement(v.a.Body,null,u.a.createElement("h6",{className:"mb-4"},"Total Settled Bills"),u.a.createElement("div",{className:"row d-flex align-items-center"},u.a.createElement("div",{className:"col-9"},u.a.createElement("h3",{className:"f-w-300 d-flex align-items-center m-b-0"},u.a.createElement("i",{className:"feather icon-arrow-up text-c-green f-30 m-r-5"}),t.length)),u.a.createElement("div",{className:"col-3 text-right"},u.a.createElement("p",{className:"m-b-0"},parseFloat(c).toFixed(2),"%"))),u.a.createElement("div",{className:"progress m-t-30",style:{height:"7px"}},u.a.createElement("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:c.concat("%")},"aria-valuenow":c,"aria-valuemin":"0","aria-valuemax":"100"}))))),u.a.createElement(p.a,{md:6,xl:4},u.a.createElement(v.a,null,u.a.createElement(v.a.Body,null,u.a.createElement("h6",{className:"mb-4"},"Total Pending Bills"),u.a.createElement("div",{className:"row d-flex align-items-center"},u.a.createElement("div",{className:"col-9"},u.a.createElement("h3",{className:"f-w-300 d-flex align-items-center m-b-0"},u.a.createElement("i",{className:"feather icon-arrow-down text-c-red f-30 m-r-5"}),r.length)),u.a.createElement("div",{className:"col-3 text-right"},u.a.createElement("p",{className:"m-b-0"},parseFloat(n).toFixed(2),"%"))),u.a.createElement("div",{className:"progress m-t-30",style:{height:"7px"}},u.a.createElement("div",{className:"progress-bar progress-c-theme2",role:"progressbar",style:{width:n.concat("%")},"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100"}))))),u.a.createElement(p.a,{xl:4},u.a.createElement(v.a,null,u.a.createElement(v.a.Body,null,u.a.createElement("h6",{className:"mb-4"},"Total Money Sent"),u.a.createElement("div",{className:"row d-flex align-items-center"},u.a.createElement("div",{className:"col-9"},u.a.createElement("h3",{className:"f-w-300 d-flex align-items-center m-b-0"},u.a.createElement("i",{className:"feather icon-arrow-up text-c-green f-30 m-r-5"})," ",l," ETH")),u.a.createElement("div",{className:"col-3 text-right"},u.a.createElement("p",{className:"m-b-0"},m.substring(0,5),"%"))),u.a.createElement("div",{className:"progress m-t-30",style:{height:"7px"}},u.a.createElement("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:m.concat("%")},"aria-valuenow":m,"aria-valuemin":"0","aria-valuemax":"100"}))))),u.a.createElement(p.a,{md:10,xl:12},u.a.createElement(v.a,{className:"Recent-Users"},u.a.createElement(v.a.Header,null,u.a.createElement(v.a.Title,{as:"h5"},"Pending Invoices")),u.a.createElement(v.a.Body,{className:"px-0 py-2"},u.a.createElement(f.a,{responsive:!0,hover:!0},u.a.createElement("tbody",null,r))))),u.a.createElement(p.a,{md:10,xl:12},u.a.createElement(v.a,{className:"Recent-Users"},u.a.createElement(v.a.Header,null,u.a.createElement(v.a.Title,{as:"h5"},"Settled Invoices")),u.a.createElement(v.a.Body,{className:"px-0 py-2"},u.a.createElement(f.a,{responsive:!0,hover:!0},u.a.createElement("tbody",null,t))))),u.a.createElement(p.a,{md:6,xl:4},u.a.createElement(v.a,{className:"card-social"},u.a.createElement(v.a.Body,{className:"border-bottom"},u.a.createElement("div",{className:"row align-items-center justify-content-center"},u.a.createElement("div",{className:"col-auto"},u.a.createElement("h3",null,"Company X")),u.a.createElement("div",{className:"col text-right"},u.a.createElement("h3",null,"12,280"),u.a.createElement("h5",{className:"text-c-green mb-0"},u.a.createElement("span",{className:"text-muted"},"Total Amount to Pay"))))),u.a.createElement(v.a.Body,null,u.a.createElement("div",{className:"row align-items-center justify-content-center card-active"},u.a.createElement("div",{className:"col-6"},u.a.createElement("h6",{className:"text-center m-b-10"},u.a.createElement("span",{className:"text-muted m-r-5"},"Paid:"),"6,140"),u.a.createElement("div",{className:"progress"},u.a.createElement("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:"50%",height:"6px"},"aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}))),u.a.createElement("div",{className:"col-6"},u.a.createElement("h6",{className:"text-center  m-b-10"},u.a.createElement("span",{className:"text-muted m-r-5"},"Duration:"),"28 days"),u.a.createElement("div",{className:"progress"},u.a.createElement("div",{className:"progress-bar progress-c-theme2",role:"progressbar",style:{width:"10%",height:"6px"},"aria-valuenow":"45","aria-valuemin":"0","aria-valuemax":"100"}))))))),u.a.createElement(p.a,{md:6,xl:4},u.a.createElement(v.a,{className:"card-social"},u.a.createElement(v.a.Body,{className:"border-bottom"},u.a.createElement("div",{className:"row align-items-center justify-content-center"},u.a.createElement("div",{className:"col-auto"},u.a.createElement("h3",null,"Company Y")),u.a.createElement("div",{className:"col text-right"},u.a.createElement("h3",null,"5,280"),u.a.createElement("h5",{className:"text-c-green mb-0"},u.a.createElement("span",{className:"text-muted"},"Total Amount to Pay"))))),u.a.createElement(v.a.Body,null,u.a.createElement("div",{className:"row align-items-center justify-content-center card-active"},u.a.createElement("div",{className:"col-6"},u.a.createElement("h6",{className:"text-center m-b-10"},u.a.createElement("span",{className:"text-muted m-r-5"},"Paid:"),"0"),u.a.createElement("div",{className:"progress"},u.a.createElement("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:"1%",height:"6px"},"aria-valuenow":"60","aria-valuemin":"0","aria-valuemax":"100"}))),u.a.createElement("div",{className:"col-6"},u.a.createElement("h6",{className:"text-center  m-b-10"},u.a.createElement("span",{className:"text-muted m-r-5"},"Duration:"),"2 months"),u.a.createElement("div",{className:"progress"},u.a.createElement("div",{className:"progress-bar progress-c-theme2",role:"progressbar",style:{width:"2%",height:"6px"},"aria-valuenow":"45","aria-valuemin":"0","aria-valuemax":"100"}))))))),u.a.createElement(p.a,{md:6,xl:4},u.a.createElement(v.a,null,u.a.createElement(v.a.Header,null,u.a.createElement(v.a.Title,{as:"h5"},"Rating")),u.a.createElement(v.a.Body,null,u.a.createElement("div",{className:"row align-items-center justify-content-center m-b-20"},u.a.createElement("div",{className:"col-6"},u.a.createElement("h2",{className:"f-w-300 d-flex align-items-center float-left m-0"},"4.7 ",u.a.createElement("i",{className:"fa fa-star f-10 m-l-10 text-c-yellow"}))),u.a.createElement("div",{className:"col-6"},u.a.createElement("h6",{className:"d-flex  align-items-center float-right m-0"},"0.4 ",u.a.createElement("i",{className:"fa fa-caret-up text-c-green f-22 m-l-10"})))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-xl-12"},u.a.createElement("h6",{className:"align-items-center float-left"},u.a.createElement("i",{className:"fa fa-star f-10 m-r-10 text-c-yellow"}),"5"),u.a.createElement("h6",{className:"align-items-center float-right"},"384"),u.a.createElement("div",{className:"progress m-t-30 m-b-20",style:{height:"6px"}},u.a.createElement("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:"70%"},"aria-valuenow":"70","aria-valuemin":"0","aria-valuemax":"100"}))),u.a.createElement("div",{className:"col-xl-12"},u.a.createElement("h6",{className:"align-items-center float-left"},u.a.createElement("i",{className:"fa fa-star f-10 m-r-10 text-c-yellow"}),"4"),u.a.createElement("h6",{className:"align-items-center float-right"},"145"),u.a.createElement("div",{className:"progress m-t-30  m-b-20",style:{height:"6px"}},u.a.createElement("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:"35%"},"aria-valuenow":"35","aria-valuemin":"0","aria-valuemax":"100"}))),u.a.createElement("div",{className:"col-xl-12"},u.a.createElement("h6",{className:"align-items-center float-left"},u.a.createElement("i",{className:"fa fa-star f-10 m-r-10 text-c-yellow"}),"3"),u.a.createElement("h6",{className:"align-items-center float-right"},"24"),u.a.createElement("div",{className:"progress m-t-30  m-b-20",style:{height:"6px"}},u.a.createElement("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:"25%"},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"}))),u.a.createElement("div",{className:"col-xl-12"},u.a.createElement("h6",{className:"align-items-center float-left"},u.a.createElement("i",{className:"fa fa-star f-10 m-r-10 text-c-yellow"}),"2"),u.a.createElement("h6",{className:"align-items-center float-right"},"1"),u.a.createElement("div",{className:"progress m-t-30  m-b-20",style:{height:"6px"}},u.a.createElement("div",{className:"progress-bar progress-c-theme",role:"progressbar",style:{width:"10%"},"aria-valuenow":"10","aria-valuemin":"0","aria-valuemax":"100"}))),u.a.createElement("div",{className:"col-xl-12"},u.a.createElement("h6",{className:"align-items-center float-left"},u.a.createElement("i",{className:"fa fa-star f-10 m-r-10 text-c-yellow"}),"1"),u.a.createElement("h6",{className:"align-items-center float-right"},"0"),u.a.createElement("div",{className:"progress m-t-30  m-b-5",style:{height:"6px"}},u.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:"0%"},"aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"})))))))))}}]),t}(u.a.Component);a.default=x}}]);
//# sourceMappingURL=11.60997c34.chunk.js.map