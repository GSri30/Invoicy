(this.webpackJsonpinvoicy=this.webpackJsonpinvoicy||[]).push([[4],{179:function(e,t,n){"use strict";t.a={items:[{id:"navigation",title:"Navigation",type:"group",icon:"icon-navigation",children:[{id:"dashboard",title:"Dashboard",type:"item",url:"/dashboard/",icon:"feather icon-home"},{id:"bills",title:"Bills",type:"item",url:"/bills-dashboard/",icon:"feather icon-file-text"},{id:"add_client",title:"Add Client",type:"item",url:"/add-client/",icon:"feather icon-user-plus"},{id:"create_invoice",title:"Create Invoice",type:"item",url:"/create-invoice/",icon:"feather icon-file-plus"}]},{id:"account",title:"Account",type:"group",icon:"icon-navigation",children:[{id:"logout",title:"Logout",type:"item",url:"/logout/",icon:"feather icon-log-out"}]}]}},199:function(e,t,n){"use strict";var a=n(9),r=n(10),i=n(12),u=n(11),c=n(0),s=n.n(c),p=n(314),o=n(14),l=n(179),y=n(92),m=n(22),d=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state={main:[],item:[]},e.componentWillReceiveProps=function(){l.a.items.map((function(t,n){return t.type&&"group"===t.type&&e.getCollapse(t),!1}))},e.getCollapse=function(t){t.children&&t.children.filter((function(n){return n.type&&"collapse"===n.type?e.getCollapse(n):n.type&&"item"===n.type&&document.location.pathname===o.a.basename+n.url&&e.setState({item:n,main:t}),!1}))},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;l.a.items.map((function(t,n){return t.type&&"group"===t.type&&e.getCollapse(t,n),!1}))}},{key:"render",value:function(){var e,t,n="",a="Invoicy";return this.state.main&&"collapse"===this.state.main.type&&(e=s.a.createElement("li",{className:"breadcrumb-item"},s.a.createElement("a",{href:y.a.BLANK_LINK},this.state.main.title))),this.state.item&&"item"===this.state.item.type&&(a=this.state.item.title,t=s.a.createElement("li",{className:"breadcrumb-item"},s.a.createElement("a",{href:y.a.BLANK_LINK},a)),!1!==this.state.item.breadcrumbs&&(n=s.a.createElement("div",{className:"page-header"},s.a.createElement("div",{className:"page-block"},s.a.createElement("div",{className:"row align-items-center"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"page-header-title"},s.a.createElement("h5",{className:"m-b-10"},a)),s.a.createElement("ul",{className:"breadcrumb"},s.a.createElement("li",{className:"breadcrumb-item"},s.a.createElement(p.a,{to:"/"},s.a.createElement("i",{className:"feather icon-home"}))),e,t))))))),document.title=a,s.a.createElement(m.a,null,n)}}]),n}(c.Component);t.a=d},320:function(e,t){},322:function(e,t){},324:function(e,t){},329:function(e,t){},340:function(e,t){},341:function(e,t){},349:function(e,t){},350:function(e,t){},359:function(e,t){},360:function(e,t){},402:function(e,t){},403:function(e,t){},408:function(e,t){},410:function(e,t){},450:function(e,t,n){},86:function(e,t,n){"use strict";n.d(t,"n",(function(){return p})),n.d(t,"s",(function(){return o})),n.d(t,"m",(function(){return l})),n.d(t,"b",(function(){return m})),n.d(t,"k",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"i",(function(){return h})),n.d(t,"q",(function(){return T})),n.d(t,"p",(function(){return w})),n.d(t,"d",(function(){return x})),n.d(t,"h",(function(){return I})),n.d(t,"l",(function(){return k})),n.d(t,"c",(function(){return A})),n.d(t,"o",(function(){return M})),n.d(t,"g",(function(){return j})),n.d(t,"r",(function(){return O}));var a=n(18),r=n(74),i=n.n(r),u=n(87),c=n(316),s=n.n(c);n(425).config();var p=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=6;break}return window.web3=new s.a(window.ethereum),e.next=4,window.ethereum.enable();case 4:e.next=7;break;case 6:window.web3?window.web3=new s.a(window.web3.currentProvider):window.alert("Non-Ethereum browser detected. You should consider trying MetaMask!");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=new s.a(s.a.givenProvider),l=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.eth.getAccounts();case 2:return t=e.sent,n=t[0],e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=new o.eth.Contract([{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"_clientAddr",type:"address"},{internalType:"uint256",name:"discount",type:"uint256"}],name:"addClient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"companyId",type:"uint256"},{internalType:"uint256",name:"clientId",type:"uint256"},{components:[{internalType:"string",name:"desc",type:"string"},{internalType:"uint256",name:"qty",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"discount",type:"uint256"},{internalType:"uint256",name:"tax",type:"uint256"}],internalType:"struct InvoiceManagement.Item[]",name:"_items",type:"tuple[]"},{components:[{internalType:"string",name:"method",type:"string"},{internalType:"string",name:"network",type:"string"},{internalType:"uint256",name:"totalAmount",type:"uint256"},{internalType:"uint256",name:"dueAmount",type:"uint256"},{internalType:"uint256",name:"advancePercent",type:"uint256"}],internalType:"struct InvoiceManagement.Payment",name:"payment",type:"tuple"},{internalType:"bool",name:"workCompleted",type:"bool"},{internalType:"string",name:"invoiceDate",type:"string"},{internalType:"string",name:"dueDate",type:"string"},{internalType:"string",name:"uploadDocURI",type:"string"},{internalType:"string",name:"note",type:"string"}],name:"addNewInvoice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"addrToCompany",outputs:[{internalType:"uint256",name:"companyId",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"email",type:"string"},{internalType:"address",name:"companyAddr",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"companyToClients",outputs:[{internalType:"uint256",name:"clientId",type:"uint256"},{internalType:"address",name:"clientAddr",type:"address"},{internalType:"bool",name:"isBlocked",type:"bool"},{internalType:"uint256",name:"discount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_email",type:"string"}],name:"createCompany",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"companyId",type:"uint256"}],name:"getAllBills",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllClients",outputs:[{components:[{internalType:"uint256",name:"clientId",type:"uint256"},{internalType:"address",name:"clientAddr",type:"address"},{internalType:"bool",name:"isBlocked",type:"bool"},{internalType:"uint256",name:"discount",type:"uint256"}],internalType:"struct InvoiceManagement.Client[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAllCompanies",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"companyId",type:"uint256"},{internalType:"uint256",name:"clientId",type:"uint256"}],name:"getAllInvoicesByClient",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"companyId",type:"uint256"}],name:"getCompanyAddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getCompanyId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"invoiceId",type:"uint256"}],name:"getItemsbyInvoice",outputs:[{internalType:"string[]",name:"",type:"string[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"idToCompany",outputs:[{internalType:"uint256",name:"companyId",type:"uint256"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"email",type:"string"},{internalType:"address",name:"companyAddr",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"invoices",outputs:[{internalType:"uint256",name:"invoiceId",type:"uint256"},{internalType:"uint256",name:"companyId",type:"uint256"},{internalType:"uint256",name:"clientId",type:"uint256"},{components:[{internalType:"string",name:"method",type:"string"},{internalType:"string",name:"network",type:"string"},{internalType:"uint256",name:"totalAmount",type:"uint256"},{internalType:"uint256",name:"dueAmount",type:"uint256"},{internalType:"uint256",name:"advancePercent",type:"uint256"}],internalType:"struct InvoiceManagement.Payment",name:"payment",type:"tuple"},{internalType:"bool",name:"workCompleted",type:"bool"},{internalType:"bool",name:"isSettled",type:"bool"},{internalType:"string",name:"invoiceDate",type:"string"},{internalType:"string",name:"dueDate",type:"string"},{internalType:"string",name:"uploadDocURI",type:"string"},{internalType:"string",name:"note",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"invoiceId",type:"uint256"}],name:"payBill",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"companyId",type:"uint256"},{internalType:"uint256",name:"clientId",type:"uint256"}],name:"updateClientBlockedStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"companyId",type:"uint256"},{internalType:"uint256",name:"clientId",type:"uint256"},{internalType:"uint256",name:"discount",type:"uint256"}],name:"updateClientDiscount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"invoiceId",type:"uint256"},{components:[{internalType:"string",name:"desc",type:"string"},{internalType:"uint256",name:"qty",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint256",name:"discount",type:"uint256"},{internalType:"uint256",name:"tax",type:"uint256"}],internalType:"struct InvoiceManagement.Item[]",name:"_items",type:"tuple[]"},{components:[{internalType:"string",name:"method",type:"string"},{internalType:"string",name:"network",type:"string"},{internalType:"uint256",name:"totalAmount",type:"uint256"},{internalType:"uint256",name:"dueAmount",type:"uint256"},{internalType:"uint256",name:"advancePercent",type:"uint256"}],internalType:"struct InvoiceManagement.Payment",name:"payment",type:"tuple"},{internalType:"bool",name:"workCompleted",type:"bool"},{internalType:"string",name:"invoiceDate",type:"string"},{internalType:"string",name:"dueDate",type:"string"},{internalType:"string",name:"uploadDocURI",type:"string"},{internalType:"string",name:"note",type:"string"}],name:"updateInvoice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"invoiceId",type:"uint256"}],name:"updateInvoiceWorkCompleted",outputs:[],stateMutability:"nonpayable",type:"function"}],"0x1326bC1cfD1dF0b2DE2a7dDe0b48f0d1Eb3C34b2"),m=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.eth.getAccounts();case 2:return a=e.sent,r=a[0],e.next=6,y.methods.createCompany(t,n).send({from:r});case 6:if(!e.sent){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=5;break}return e.next=3,o.eth.getAccounts();case 3:n=e.sent,t=n[0];case 5:return e.next=7,y.methods.getCompanyId(t).call();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.methods.idToCompany(t).call();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.methods.getAllCompanies().call();case 2:for(t=e.sent,n=[],a=0;a<t[0].length;a++)r={companyId:t[0][a],name:t[1][a],email:t[2][a],companyAddr:t[3][a]},n.push(r);return console.log(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.eth.getAccounts();case 2:return a=e.sent,r=a[0],e.next=6,y.methods.addClient(t,n).send({from:r});case 6:if(!e.sent){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.eth.getAccounts();case 2:return t=e.sent,n=t[0],e.next=6,y.methods.getAllClients().call({from:n});case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.methods.companyToClients(t,n).call();case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(u.a)(i.a.mark((function e(t,n,a){var r,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.eth.getAccounts();case 2:return r=e.sent,u=r[0],e.next=6,y.methods.updateClientDiscount(t,n,a).send({from:u});case 6:if(!e.sent){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.eth.getAccounts();case 2:return a=e.sent,r=a[0],e.next=6,y.methods.updateClientBlockedStatus(t,n).send({from:r});case 6:if(!e.sent){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.methods.getAllBills(t).call();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,r,u,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,n);case 2:return a=e.sent,r=a.clientAddr,e.next=6,d(r);case 6:return u=e.sent,e.next=9,f(u);case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.methods.invoices(t).call();case 2:return n=e.sent,e.next=5,C(t);case 5:return a=e.sent,n.items=a,e.next=9,f(n.companyId);case 9:return r=e.sent,n.company=r,e.next=13,I(n.companyId,n.clientId);case 13:return u=e.sent,n.client=u,e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.eth.getAccounts();case 2:return r=e.sent,u=r[0],e.next=6,(n=y.methods).addNewInvoice.apply(n,Object(a.a)(t)).send({from:u});case 6:if(!e.sent){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a,r,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.methods.getItemsbyInvoice(t).call();case 2:for(n=e.sent,a=[],r=0;r<n[0].length;r++)u={desc:n[0][r],qty:n[1][r],price:n[2][r],discount:n[3][r],tax:n[4][r]},a.push(u);return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a,r,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.eth.getAccounts();case 2:return a=e.sent,r=a[0],e.next=6,y.methods.payBill(t).send({from:r,value:n}).on("transactionHash",(function(e){})).on("receipt",(function(e){})).on("confirmation",(function(e,t){window.alert("Money has been transferred successfully!")})).on("error",(function(e,t){console.log(e),window.alert("An error has occured!")}));case 6:u=e.sent,window.location.reload(),console.log(u);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.methods.getAllInvoicesByClient(t,n).call();case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.eth.getAccounts();case 2:return n=e.sent,a=n[0],e.next=6,y.methods.updateInvoiceWorkCompleted(t).send({from:a});case 6:if(!e.sent){e.next=11;break}return e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},92:function(e,t,n){"use strict";t.a={BLANK_LINK:"#!"}}}]);
//# sourceMappingURL=4.3b534183.chunk.js.map